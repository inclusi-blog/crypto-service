version: "3.7"

services:

  crypto-svc:
    image: cryto-svc
    build:
      context: .
      dockerfile: infrastructure/Dockerfile
    ports:
      - "30003:8081"
    environment:
      - GO111MODULE=on
      - GOSUMDB=off
    volumes:
      - ./configuration:/home/gola/configuration
      - data-volume:/data-volume
    command: ["/bin/sh" , "-c", "sleep 5 && /home/gola/crypto-service"]

volumes:
  data-volume:

networks:
  default:
    external:
      name: gola-network
